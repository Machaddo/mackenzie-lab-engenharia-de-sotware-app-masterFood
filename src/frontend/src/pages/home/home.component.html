<div class="app-wood">
  
  <div class="search-outer">
    <div class="search-box">
      <input
        [(ngModel)]="searchText"
        (keydown.enter)="buscarReceita()"
        placeholder="O que iremos cozinhar hoje?"
        aria-label="Buscar"
      />
      <div class="search-icon" role="button" (click)="buscarReceita()">
        <i class="bi bi-search"></i>
      </div>
    </div>
  </div>

  <div 
    *ngIf="receitaEncontrada" 
    class="mx-auto px-3 my-5" 
    style="max-width: 450px; width: 100%;"
  >
    <div class="card p-3 shadow-sm bg-light">
        
      <div class="d-flex justify-content-between align-items-center mb-2">
          <h4 class="fw-bold text-dark mb-0">{{ receitaEncontrada.name }}</h4>
          
          <i
              class="bi fs-4"
              [ngClass]="receitaEncontrada.saved ? 'bi-heart-fill text-danger' : 'bi-heart text-muted'"
              (click)="salvarReceita()"
              style="cursor: pointer;"
              role="button"
              aria-label="Salvar Receita"
          ></i>
      </div>
      
      <hr class="mt-0 mb-3"> <div class="row">
        <div class="col-12">
          <h6 class="text-secondary mb-2"><i class="bi bi-basket me-2"></i> Ingredientes</h6>
          
          <ul class="list-unstyled">
            <li 
              class="d-flex justify-content-between align-items-center py-1"
              *ngFor="let line of receitaEncontrada.lines"
            >
              <span class="fw-medium text-capitalize me-3">{{ line.ingredient }}</span>
              <span class="text-end text-muted text-nowrap">{{ formatAmount(line.amount, line.unit) }}</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="mt-3 text-center">
        <p class="small text-muted fst-italic mb-0">Receita instantânea MasterFood. Adapte as quantidades conforme sua preferência.</p>
      </div>
      
    </div>
  </div>
  <div 
    *ngIf="isToastVisible" 
    class="alert alert-dismissible shadow-lg fade show"
    role="alert"
    style="
      position: fixed;
      /* Ajuste principal: 80px abaixo do topo */
      top: 80px; 
      right: 20px;
      
      z-index: 1100;
      background-color: #333; 
      color: white; 
      border-radius: 8px;
      min-width: 250px; 
    "
  >
    <div class="d-flex align-items-center">
      <i class="bi fs-5 me-3" [ngClass]="toastIconClass"></i> 
      <strong class="me-auto">{{ toastMessage }}</strong>
      
      <button 
        type="button" 
        class="btn-close btn-close-white" 
        data-bs-dismiss="alert" 
        aria-label="Close"
        (click)="isToastVisible = false"
      ></button>
    </div>
  </div>
  </div>